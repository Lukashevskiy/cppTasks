
# Следим за человеком на видео.
Полностью обрезать не получилось, катастрофически нет времени, есть только гифка с ключевыми кадрами
выглядит довольно неплохо
## Как это работает
за основу был взят код из прошлого задания + утилита ffmpeg, которая и делает всю работу.
### FFMPEG
  в файле `get_key_frames.sh` описан скрипт который берет из видео ключевые кадры и пишет их в папку `key_frames` , \
  а потом эта же утилита из папки `img_crop` соберет avi файл(да да не гифка() из ключевых кадров
### CURL
  На мой взгляд узкое место. Простой сткрипт `get_face_from_key_frame.sh`, но на ответ с разбором каждой картинки уходит 1-2 секунды (сейчас норм, но а если ключевых кадром 1к+?)
### PIL
  Эта штука в купе с питоном, в скрипте `main.py` и делает всю магию. \
  Осноной прикол описан в прошлом задании, отличие только в том, что обрезаемый прямоугольник чуть больше, нежели чем просто лицо. \
  И да, там еще есть цикл для обработки всех картинок.
### Os
  Эта штука просто незаменима для того, что бы найти названия файлов в проекте и сказать скрипту: "что? и где?".
### Subprocess
  Штука, что бы запускать всякие внешние штуки из питон скрипта.
  
### Описание файлов
   скрипты: \
      `get_key_frames.sh` штука которая разбивает на ключевые кадры и пихает их в папку `key_frames` \
      `get_face_from_key_frame.sh` штука которая обращается к azure и пихает весь ответ в `json_faces.txt` \
   то, что нужно запускать: \
      `main.py` (тут есть косяк, там захардкожено название файла(((( ) \
   `video.gif` гифка итоговая (в папке img_crop есть avi тот же) \
   `json_faces.txt` штука, где лежат все ответы от azure. \
   `/key_frames/` директория, где лежат все ключевые кадры. \
   `/frames/` директория, где лежат все кадры. \
## Что хорошо в этом проектике
1 - оно работает (почти) \
2 - все что нужно запустить 1 файлик \
## Что плохо
1 - плохо работает с видео, где плохо видно лицо \
2 - долгая обработка ключевых кадров с поиском лица \
3 - чуть что, сломается. (ну тут понятно) \
4 - не полноценное видео \
5 - время обработки очень зависима от длины ролика (ну как бы и не минус, ибо просто особенность)
# Ну собственно сама гифка.
<img src="video.gif" width="250" height="300" />
